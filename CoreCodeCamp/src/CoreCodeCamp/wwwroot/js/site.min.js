$(document).ready(function(){function t(n,t,i){var r=window.location.pathname.split("/")[1];$.ajax({url:"/"+r+"/api/me/favorites/"+n,type:"PUT",success:t,error:i})}function n(n,t){t||(t="danger");var r="<div class='alert alert-##ALERTTYPE## alert-dismissible'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'><i class='fa fa-close'><\/i><\/span><\/button><p>##MSG##<\/p><\/div>".replace("##MSG##",n).replace("##ALERTTYPE##",t);i.after(r);r.alert()}$(".delete-star").on("click",function(){var i=$(this),r=i.attr("data-id");t(r,function(){i.parent().remove()},function(){n("Failed to remove favorite. Unknown reason.")})});$(".voteStar").on("click",function(){var i=$(this),r=i.attr("data-id");t(r,function(){i.hasClass("voted")?i.removeClass("voted"):i.addClass("voted")},function(t){t.status===401?n("Must be logged in to set favorite sessions."):n("Failed to set favorite. Unknown reason.")})});var i=$("#topBar")});